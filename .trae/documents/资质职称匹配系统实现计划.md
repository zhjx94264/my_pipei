# 资质职称匹配系统实现计划

## 1. 数据处理模块
- **功能**：读取Excel文件并转换为便于查询的JSON格式
- **实现步骤**：
  - 使用pandas读取`zivi_data.xlsx`文件
  - 解析数据结构，提取资质名称、是否要求齐全、职称数量、职称类型列表
  - 将数据转换为JSON格式并保存到`qualification_data.json`文件
  - JSON结构示例：
    ```json
    [
      {
        "name": "建筑总包二级",
        "require_all_types": true,
        "total_count": 6,
        "types": ["结构", "给排水", ...]
      },
      ...
    ]
    ```

## 2. 模糊搜索模块
- **功能**：实现资质名称的模糊匹配
- **实现步骤**：
  - 实现基于字符串相似度的模糊匹配算法
  - 支持用户输入"建筑二"匹配到"建筑总包二级"
  - 考虑使用Jaccard相似度或Levenshtein距离算法
  - 提供匹配结果列表供用户选择

## 3. 资质匹配核心算法
- **功能**：根据用户输入的多个资质计算所需职称数量
- **实现步骤**：
  
  ### 3.1 单个资质职称计算
  - 对于要求齐全的资质：每个职称类型至少1人
  - 对于不要求齐全的资质：职称总数满足要求即可
  
  ### 3.2 多个资质合并计算
  - **步骤1**：按优先级排序资质
    - 优先处理有齐全要求的资质
    - 有齐全要求的资质按单个要求人数从小到大排序
  - **步骤2**：初始化职称计数字典
  - **步骤3**：处理有齐全要求的资质
    - 为每个职称类型至少分配1人
    - 记录已分配的职称类型和数量
  - **步骤4**：处理没有齐全要求的资质
    - 计算还需要的职称数量
    - 优先使用已有的职称类型（重复使用）
    - 如需新增，添加到计数字典
  - **步骤5**：最终验证
    - 确保所有资质的要求都被满足
    - 优化职称数量，确保最小化

## 4. 前端交互界面
- **功能**：提供用户输入和结果展示界面
- **实现步骤**：
  - 使用HTML/CSS/JavaScript创建简单的Web界面
  - 提供文本输入框，支持多个资质名称输入（用逗号分隔）
  - 实现实时模糊搜索建议
  - 展示匹配结果和最终所需职称数量
  - 提供详细的计算过程说明

## 5. 技术栈选择
- **后端**：Python（数据处理、核心算法）
- **前端**：HTML/CSS/JavaScript（用户界面）
- **数据存储**：JSON文件（便于快速读取）

## 6. 实现顺序
1. 数据处理模块（Python）
2. 模糊搜索模块（Python）
3. 资质匹配核心算法（Python）
4. 前端交互界面（HTML/CSS/JavaScript）
5. 整合测试和优化

## 7. 预期输出
- 生成`qualification_data.json`数据文件
- 实现模糊搜索功能
- 准确计算多个资质所需的最少职称数量
- 提供直观的Web界面供用户使用

## 8. 关键算法要点
- 优先处理有齐全要求的资质
- 优先使用重复职称，节约整体数量
- 确保最终结果满足所有资质要求
- 支持任意数量的资质输入

该计划将确保系统能够高效、准确地计算出用户所需的职称数量，同时考虑到各种复杂情况和优化策略。